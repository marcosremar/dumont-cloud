
==============================================
[0;34mTeste: Spot Analysis[0m
==============================================
Inicio: Sat Dec 20 00:39:09 CET 2025

[0;32m[PASS][0m CLI encontrado: /home/marcos/.local/bin/dumont
[0;32m[PASS][0m Backend acessivel em http://localhost:8767
[1;33m[STEP][0m Fazendo login com marcosremar@gmail.com...
[0;32m[PASS][0m Login realizado
[1;33m[STEP][0m 1. Verificando monitor de mercado spot...
[0;34m[INFO][0m Monitor: üîÑ GET /api/v1/metrics/spot/monitor
‚úÖ Success (200)
{
  "items": [],
  "total_gpus_monitored": 0,
  "avg_savings_percent": 0.0,
  "best_deal": null,
  "generated_at": "2025-12-19T23:39:10.173330"
}
[0;32m[PASS][0m Monitor spot deve estar autenticado
[1;33m[STEP][0m 2. Verificando predicao de precos...
[0;34m[INFO][0m Predicao: üîÑ GET /api/v1/metrics/spot/prediction/RTX_4090
‚úÖ Success (200)
{
  "gpu_name": "RTX_4090",
  "current_price": 0.5,
  "predictions_24h": [
    {
      "hour_utc": 0,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 1,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 2,
      "predicted_price": 0.425,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "excellent"
    },
    {
      "hour_utc": 3,
      "predicted_price": 0.425,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "excellent"
    },
    {
      "hour_utc": 4,
      "predicted_price": 0.425,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "excellent"
    },
    {
      "hour_utc": 5,
      "predicted_price": 0.425,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "excellent"
    },
    {
      "hour_utc": 6,
      "predicted_price": 0.425,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "excellent"
    },
    {
      "hour_utc": 7,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 8,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 9,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 10,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 11,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 12,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 13,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 14,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 15,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 16,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 17,
      "predicted_price": 0.55,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "wait"
    },
    {
      "hour_utc": 18,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 19,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 20,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 21,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 22,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    },
    {
      "hour_utc": 23,
      "predicted_price": 0.5,
      "confidence": 0.3,
      "predicted_availability": 10,
      "recommendation": "fair"
    }
  ],
  "best_time_to_rent": 2,
  "predicted_lowest_price": 0.425,
  "model_confidence": 0.3,
  "generated_at": "2025-12-19T23:39:10.393683"
}
[1;33m[STEP][0m 3. Verificando taxa de interrupcao...
[0;34m[INFO][0m Interrupcao: üîÑ GET /api/v1/metrics/spot/interruption-rates
‚úÖ Success (200)
{
  "items": [],
  "avg_interruption_rate": 0.0,
  "safest_providers": 0,
  "generated_at": "2025-12-19T23:39:10.544610"
}
[1;33m[STEP][0m 4. Verificando janelas seguras...
[0;34m[INFO][0m Safe windows: ‚ùå Missing required parameter: gpu_name
[1;33m[STEP][0m 5. Verificando score de confiabilidade...
[0;34m[INFO][0m Reliability: üîÑ GET /api/v1/metrics/spot/reliability
‚úÖ Success (200)
{
  "items": [],
  "excellent_providers": 0,
  "avg_score": 0.0,
  "generated_at": "2025-12-19T23:39:10.849808"
}
[1;33m[STEP][0m 6. Verificando ranking de GPUs para LLM...
[0;34m[INFO][0m LLM Ranking: ‚ùå Unknown action 'llm-ranking' for spot

üí° Available actions: prediction, monitor, reliability, availability, savings, interruption, safe-windows, llm-gpus, training-cost, fleet-strategy
[1;33m[STEP][0m 7. Verificando calculadora de economia...
[0;34m[INFO][0m Savings: üîÑ GET /api/v1/metrics/spot/savings
‚úÖ Success (200)
{
  "items": [],
  "total_potential_savings_month": 0.0,
  "avg_savings_percent": 0.0,
  "generated_at": "2025-12-19T23:39:11.147297"
}
[1;33m[STEP][0m 8. Verificando custo de treinamento...
[0;34m[INFO][0m Training cost: üîÑ GET /api/v1/metrics/spot/training-cost
‚úÖ Success (200)
{
  "items": [],
  "most_cost_effective": null,
  "fastest_training": null,
  "generated_at": "2025-12-19T23:39:11.265501"
}
[1;33m[STEP][0m 9. Verificando estrategia de fleet...
[0;34m[INFO][0m Fleet strategy: üîÑ GET /api/v1/metrics/spot/fleet-strategy
‚úÖ Success (200)
{
  "strategy_name": "Fleet Balanced - 0 GPUs",
  "total_gpus": 0,
  "estimated_monthly_cost": 0.0,
  "estimated_savings_vs_ondemand": 0.0,
  "interruption_resilience": "low",
  "gpus": [],
  "recommendations": [
    "Adicione mais tipos de GPU para maior resili√™ncia",
    "Considere provedores com maior reliability",
    "Economia estimada vs on-demand: $0.00/m√™s"
  ],
  "generated_at": "2025-12-19T23:39:11.371251"
}
[1;33m[STEP][0m 10. Verificando disponibilidade instantanea...
[0;34m[INFO][0m Availability: üîÑ GET /api/v1/metrics/spot/availability
‚úÖ Success (200)
{
  "items": [],
  "total_available": 0,
  "fastest_gpu": null,
  "generated_at": "2025-12-19T23:39:11.467725"
}
[1;33m[STEP][0m Fazendo logout...
üîÑ POST /api/auth/logout
‚úÖ Logged out successfully.
[0;32m[PASS][0m Logout realizado

----------------------------------------------
Resumo dos Asserts:
  [0;32mPassed: 1[0m
  [0;31mFailed: 0[0m
----------------------------------------------

[0;32m[PASS][0m Teste 'Spot Analysis' completado com sucesso!
Fim: Sat Dec 20 00:39:11 CET 2025
==============================================
