
==============================================
[0;34mTeste: Instance Lifecycle[0m
==============================================
Inicio: Sat Dec 20 00:38:49 CET 2025

[0;32m[PASS][0m CLI encontrado: /home/marcos/.local/bin/dumont
[0;32m[PASS][0m Backend acessivel em http://localhost:8767
[1;33m[STEP][0m Fazendo login com marcosremar@gmail.com...
[0;32m[PASS][0m Login realizado
[1;33m[STEP][0m 1. Verificando menu principal...
[0;32m[PASS][0m Menu deve estar acessivel
[0;34m[INFO][0m Menu: ‚ùå Unknown action 'None' for menu

üí° Available actions: list
[1;33m[STEP][0m 2. Verificando endpoint de ofertas via API...
[0;34m[INFO][0m Status ofertas GPU: 200
[0;32m[PASS][0m Ofertas de GPU disponiveis via API
[1;33m[STEP][0m 3. Listando minhas instancias...
[0;32m[PASS][0m Listagem de instancias deve funcionar
[0;34m[INFO][0m Instancias: üîÑ GET /api/instances
‚úÖ Success (200)
{
  "instances": [],
  "count": 0
}
[1;33m[STEP][0m 4. Testando instancia inexistente...
[0;32m[PASS][0m Instancia inexistente deve retornar 404
[1;33m[STEP][0m 5. Testando pause em instancia inexistente...
[0;32m[PASS][0m Pause em instancia inexistente deve falhar
[1;33m[STEP][0m 6. Testando resume em instancia inexistente...
[0;32m[PASS][0m Resume em instancia inexistente deve falhar
[1;33m[STEP][0m 7. Testando settings...
[0;34m[INFO][0m Settings: üîÑ GET /api/v1/settings
‚úÖ Success (200)
{
  "vast_api_key": "a9df8f732d9b1b8a6bb54fd43c477824254552b0d964c58bd92b16c6f25ca3dd",
  "settings": {
    "stage_timeout": 30,
    "restic_connections": 32,
    "remove_tmux": true,
    "auto_restore": true,
    "preferred_region": "EU",
    "r2_access_key": "f0a6f424064e46c903c76a447f5e73d2",
    "r2_secret_key": "1dcf325fe8556fca221cf8b383e277e7af6660a246148d5e11e4fc67e822c9b5",
    "r2_endpoint": "https://142ed673a5cc1a9e91519c099af3d791.r2.cloudflarestorage.com",
    "r2_bucket": "musetalk",
    "restic_password": "musetalk123",
    "restic_repo": "s3:https://142ed673a5cc1a9e91519c099af3d791.r2.cloudflarestorage.com/musetalk/restic",
    "tailscale_authkey": "tskey-auth-kQmnJuii4411CNTRL-bjWkofSrsnQNAfYo4WPRnQEfFC2aoPnN",
    "tailscale_vps_ip": "100.66.203.60",
    "has_completed_onboarding": true
  }
}
[1;33m[STEP][0m 8. Verificando balance...
[0;34m[INFO][0m Balance: ‚ùå Unknown action 'None' for balance

üí° Available actions: list
Balance info
[0;32m[PASS][0m Endpoints de instancia verificados
[1;33m[STEP][0m Fazendo logout...
üîÑ POST /api/auth/logout
‚úÖ Logged out successfully.
[0;32m[PASS][0m Logout realizado

----------------------------------------------
Resumo dos Asserts:
  [0;32mPassed: 7[0m
  [0;31mFailed: 0[0m
----------------------------------------------

[0;32m[PASS][0m Teste 'Instance Lifecycle' completado com sucesso!
Fim: Sat Dec 20 00:38:51 CET 2025
==============================================
