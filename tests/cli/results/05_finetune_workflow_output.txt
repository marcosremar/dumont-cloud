
==============================================
[0;34mTeste: Finetune Workflow[0m
==============================================
Inicio: Sat Dec 20 00:39:01 CET 2025

[0;32m[PASS][0m CLI encontrado: /home/marcos/.local/bin/dumont
[0;32m[PASS][0m Backend acessivel em http://localhost:8767
[1;33m[STEP][0m Fazendo login com marcosremar@gmail.com...
[0;32m[PASS][0m Login realizado
[1;33m[STEP][0m 1. Listando modelos disponiveis para finetune...
[0;34m[INFO][0m Modelos: üîÑ GET /api/finetune/models
‚úÖ Success (200)
{
  "models": [
    {
      "id": "unsloth/llama-3-8b-bnb-4bit",
      "name": "Llama 3 8B",
      "parameters": "8B",
      "min_vram": "16GB",
      "recommended_gpu": "RTX 4090, A100"
    },
    {
      "id": "unsloth/llama-3-70b-bnb-4bit",
      "name": "Llama 3 70B",
      "parameters": "70B",
      "min_vram": "48GB",
      "recommended_gpu": "A100 80GB, H100"
    },
    {
      "id": "unsloth/mistral-7b-bnb-4bit",
      "name": "Mistral 7B",
      "parameters": "7B",
      "min_vram": "12GB",
      "recommended_gpu": "RTX 3090, RTX 4090"
    },
    {
      "id": "unsloth/gemma-7b-bnb-4bit",
      "name": "Gemma 7B",
      "parameters": "7B",
      "min_vram": "12GB",
      "recommended_gpu": "RTX 3090, RTX 4090"
    },
    {
      "id": "unsloth/Qwen2-7B-bnb-4bit",
      "name": "Qwen 2 7B",
      "parameters": "7B",
      "min_vram": "12GB",
      "recommended_gpu": "RTX 3090, RTX 4090"
    },
    {
      "id": "unsloth/Phi-3-mini-4k-instruct-bnb-4bit",
      "name": "Phi-3 Mini 4K",
      "parameters": "3.8B",
      "min_vram": "8GB",
      "recommended_gpu": "RTX 3080, RTX 4070"
    }
  ]
}
[0;32m[PASS][0m Listagem de modelos deve estar autenticada
[1;33m[STEP][0m 2. Listando jobs de finetune...
[0;34m[INFO][0m Jobs: ‚ùå Unknown action 'list' for finetune

üí° Available actions: models, jobs, create, logs, cancel
[1;33m[STEP][0m 3. Testando criacao de job...
[0;34m[INFO][0m Create output: üîÑ POST /api/finetune/jobs
‚ùå Error (422)
{
  "error": "Validation error",
  "details": [
    {
      "type": "missing",
      "loc": [
        "body"
      ],
      "msg": "Field required",
      "input": null
    }
  ]
}
[1;33m[STEP][0m 4. Verificando logs de job inexistente...
[0;34m[INFO][0m Logs output: üîÑ GET /api/finetune/jobs/job-fake-123/logs
‚ùå Not found: /api/finetune/jobs/job-fake-123/logs
[0;32m[PASS][0m Logs de job inexistente deve falhar
[1;33m[STEP][0m 5. Testando cancelamento de job inexistente...
[0;34m[INFO][0m Cancel output: üîÑ POST /api/finetune/jobs/job-fake-456/cancel
‚ùå Error (400)
{
  "error": "Failed to cancel job. Job may not exist or is not running."
}
[0;32m[PASS][0m Cancel de job inexistente deve falhar
[1;33m[STEP][0m 6. Verificando endpoints de finetune...
[0;34m[INFO][0m Status API finetune: 200
[0;32m[PASS][0m Endpoint de finetune acessivel
[1;33m[STEP][0m 7. Listando jobs finais...
[0;34m[INFO][0m Jobs: üîÑ GET /api/finetune/jobs
‚úÖ Success (200)
{
  "jobs": [],
  "count": 0
}
[1;33m[STEP][0m 8. Validando estrutura de finetune...
[0;32m[PASS][0m Finetune workflow verificado
[1;33m[STEP][0m Fazendo logout...
üîÑ POST /api/auth/logout
‚úÖ Logged out successfully.
[0;32m[PASS][0m Logout realizado

----------------------------------------------
Resumo dos Asserts:
  [0;32mPassed: 5[0m
  [0;31mFailed: 0[0m
----------------------------------------------

[0;32m[PASS][0m Teste 'Finetune Workflow' completado com sucesso!
Fim: Sat Dec 20 00:39:09 CET 2025
==============================================
