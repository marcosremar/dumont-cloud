{
  "files_to_modify": {
    "backend": [
      "src/modules/marketplace/__init__.py",
      "src/modules/marketplace/models.py",
      "src/api/templates.py",
      "services/template_service.py",
      "services/vast_service.py",
      "app.py"
    ],
    "frontend": [
      "web/src/pages/TemplatePage.jsx",
      "web/src/pages/TemplateDetailPage.jsx",
      "web/src/components/marketplace/TemplateCard.jsx",
      "web/src/store/slices/templateSlice.js",
      "web/src/App.jsx"
    ]
  },
  "files_to_reference": [
    "src/modules/machines/models.py",
    "src/api/instances.py",
    "services/vast_service.py",
    "web/src/pages/Machines.jsx",
    "web/src/store/slices/instancesSlice.js"
  ],
  "patterns": {
    "backend_model_pattern": "Dataclass with to_dict() method, using Enum for status, typed with Optional/List",
    "backend_route_pattern": "Flask Blueprint with @bp.route decorator, error handling with jsonify",
    "backend_service_pattern": "Service class with __init__ accepting dependencies, business logic methods",
    "frontend_page_pattern": "useState/useEffect hooks, async API calls via custom utils, component-based UI",
    "frontend_redux_pattern": "createAsyncThunk for API calls, createSlice with extraReducers for loading states",
    "frontend_component_pattern": "Radix UI components from ../components/ui/, Tailwind classes for styling"
  },
  "existing_implementations": {
    "description": "Vast.ai integration exists in services/vast_service.py with search_offers, create_instance methods. Instance management in src/api/instances.py with Flask blueprints. Frontend has instance management in Machines.jsx with Redux state.",
    "relevant_files": [
      "services/vast_service.py",
      "src/api/instances.py",
      "src/modules/machines/models.py",
      "web/src/pages/Machines.jsx",
      "web/src/store/slices/instancesSlice.js"
    ]
  },
  "database_strategy": {
    "approach": "JSON-based storage or in-memory dataclass storage (no migrations detected)",
    "models_location": "src/modules/marketplace/models.py",
    "seed_data": "Load from JSON file or hardcoded in service initialization"
  },
  "task_description": "Build a basic template marketplace for GPU-powered ML workloads, reducing setup time from hours to minutes through one-click deployment of pre-configured environments (JupyterLab, Stable Diffusion WebUI, ComfyUI, vLLM)"
}