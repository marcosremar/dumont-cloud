{
  "feature": "Full Internationalization - English + Spanish",
  "workflow_type": "feature",
  "workflow_rationale": "This is a new capability that adds multi-language support to expand market reach. Requires new infrastructure (i18n libraries), new user-facing features (language selector), and systematic modification of existing components to externalize strings. Not a refactor or bug fix, but a feature addition targeting Spanish-speaking markets in Latin America and Spain.",
  "phases": [
    {
      "id": "phase-1-setup",
      "name": "i18n Infrastructure Setup",
      "type": "setup",
      "description": "Install i18n dependencies and create configuration files for React, CLI, and backend services",
      "depends_on": [],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-1-1",
          "description": "Install React i18n dependencies (react-i18next, i18next, i18next-http-backend)",
          "service": "web",
          "files_to_modify": [
            "web/package.json"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/package.json"
          ],
          "verification": {
            "type": "command",
            "command": "cd web && npm list react-i18next i18next i18next-http-backend",
            "expected": "All three packages listed in dependencies"
          },
          "status": "completed",
          "notes": "Added i18next (^24.2.0), i18next-http-backend (^3.0.2), and react-i18next (^15.4.1) to web/package.json dependencies. Note: npm install will need to be run separately to install these packages and update package-lock.json.",
          "updated_at": "2025-12-31T21:41:12.842681+00:00"
        },
        {
          "id": "subtask-1-2",
          "description": "Create React i18n initialization config file",
          "service": "web",
          "files_to_modify": [],
          "files_to_create": [
            "web/src/i18n.js"
          ],
          "patterns_from": [
            "web/src/App.jsx"
          ],
          "verification": {
            "type": "command",
            "command": "cat web/src/i18n.js | grep -q 'i18next' && echo 'OK'",
            "expected": "OK"
          },
          "status": "completed",
          "notes": "Created web/src/i18n.js with i18next configuration including HTTP backend for lazy loading translations, localStorage persistence for language preference, English fallback, and support for English (en) and Spanish (es) locales.",
          "updated_at": "2025-12-31T21:43:08.114791+00:00"
        },
        {
          "id": "subtask-1-3",
          "description": "Create English and Spanish translation file structure for React",
          "service": "web",
          "files_to_modify": [],
          "files_to_create": [
            "web/public/locales/en/translation.json",
            "web/public/locales/es/translation.json"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -f web/public/locales/en/translation.json && test -f web/public/locales/es/translation.json && echo 'OK'",
            "expected": "OK"
          },
          "status": "completed",
          "notes": "Created web/public/locales/en/translation.json and web/public/locales/es/translation.json with comprehensive initial translation structure. Both files include nested JSON keys for: common UI elements, navigation, dashboard, machines, serverless, jobs, models, finetuning, gpuMetrics, documentation, settings, auth, errors, emptyState, and language options. Spanish translations are complete and contextually accurate for the Latin American/Spanish markets.",
          "updated_at": "2025-12-31T21:47:29.085781+00:00"
        },
        {
          "id": "subtask-1-4",
          "description": "Install Python CLI i18n dependencies (Flask-Babel, Babel)",
          "service": "cli",
          "files_to_modify": [
            "requirements.txt"
          ],
          "files_to_create": [],
          "patterns_from": [
            "requirements.txt"
          ],
          "verification": {
            "type": "command",
            "command": "pip freeze | grep -E '(Flask-Babel|Babel)' | wc -l",
            "expected": "At least 2 packages"
          },
          "status": "pending"
        },
        {
          "id": "subtask-1-5",
          "description": "Create Babel extraction configuration for CLI",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [
            "cli/babel.cfg"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -f cli/babel.cfg && grep -q 'python:' cli/babel.cfg && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending"
        },
        {
          "id": "subtask-1-6",
          "description": "Create translation directory structure for CLI (en and es locales)",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [
            "cli/translations/en/LC_MESSAGES/.gitkeep",
            "cli/translations/es/LC_MESSAGES/.gitkeep"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -d cli/translations/en/LC_MESSAGES && test -d cli/translations/es/LC_MESSAGES && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-2-web-i18n",
      "name": "Web Frontend i18n Implementation",
      "type": "implementation",
      "description": "Integrate i18n into React app, extract and translate all UI strings, implement language selector",
      "depends_on": [
        "phase-1-setup"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-2-1",
          "description": "Initialize i18n in React app entry point (main.jsx)",
          "service": "web",
          "files_to_modify": [
            "web/src/main.jsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/main.jsx"
          ],
          "verification": {
            "type": "command",
            "command": "grep -q \"import.*i18n\" web/src/main.jsx && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-2",
          "description": "Extract hardcoded strings from core components (Dashboard, Layout, Navigation) to English translation file",
          "service": "web",
          "files_to_modify": [
            "web/src/pages/Dashboard.jsx",
            "web/src/components/Layout.jsx",
            "web/src/components/layout/AppLayout.jsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/components/EmptyState.jsx"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review web/public/locales/en/translation.json - should contain keys for dashboard, layout, and navigation"
          },
          "status": "pending",
          "notes": "Replace hardcoded strings with t('key.path') calls, add keys to translation.json"
        },
        {
          "id": "subtask-2-3",
          "description": "Extract strings from Settings, Machines, and GPU pages to English translation file",
          "service": "web",
          "files_to_modify": [
            "web/src/pages/Settings.jsx",
            "web/src/pages/Machines.jsx",
            "web/src/pages/GPUMetrics.jsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/components/EmptyState.jsx"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review web/public/locales/en/translation.json - should contain keys for settings, machines, and GPU sections"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-4",
          "description": "Extract strings from Serverless, Jobs, Models, and Documentation pages",
          "service": "web",
          "files_to_modify": [
            "web/src/pages/Serverless.jsx",
            "web/src/pages/Jobs.jsx",
            "web/src/pages/Models.jsx",
            "web/src/pages/Documentation.jsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/components/EmptyState.jsx"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review web/public/locales/en/translation.json - should contain keys for serverless, jobs, models, and docs sections"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-5",
          "description": "Extract strings from shared components (EmptyState, ErrorState, modals, wizards)",
          "service": "web",
          "files_to_modify": [
            "web/src/components/EmptyState.jsx",
            "web/src/components/ErrorState.jsx",
            "web/src/components/DeployWizard.jsx",
            "web/src/components/MigrationModal.jsx"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/components/EmptyState.jsx"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review web/public/locales/en/translation.json - should contain keys for common UI components"
          },
          "status": "pending"
        },
        {
          "id": "subtask-2-6",
          "description": "Create language selector component in Settings page",
          "service": "web",
          "files_to_modify": [
            "web/src/pages/Settings.jsx"
          ],
          "files_to_create": [
            "web/src/components/LanguageSelector.jsx"
          ],
          "patterns_from": [
            "web/src/components/layout/AppLayout.jsx"
          ],
          "verification": {
            "type": "browser",
            "url": "http://localhost:8000/settings",
            "checks": [
              "Language selector dropdown visible",
              "Shows English and Espa\u00f1ol options"
            ]
          },
          "status": "pending",
          "notes": "Use Radix UI Select component to match existing UI patterns"
        },
        {
          "id": "subtask-2-7",
          "description": "Translate all English strings to Spanish in translation.json",
          "service": "web",
          "files_to_modify": [
            "web/public/locales/es/translation.json"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/public/locales/en/translation.json"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Verify es/translation.json has same structure as en/translation.json with Spanish values"
          },
          "status": "pending",
          "notes": "Mirror the nested key structure from English file, translate values to Spanish"
        },
        {
          "id": "subtask-2-8",
          "description": "Implement language preference persistence in localStorage and Redux state",
          "service": "web",
          "files_to_modify": [
            "web/src/store/index.js",
            "web/src/i18n.js"
          ],
          "files_to_create": [],
          "patterns_from": [
            "web/src/store/index.js"
          ],
          "verification": {
            "type": "browser",
            "url": "http://localhost:8000",
            "checks": [
              "Change language to Spanish, refresh page, language persists"
            ]
          },
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-3-cli-i18n",
      "name": "CLI i18n Implementation",
      "type": "implementation",
      "description": "Extract CLI help text and messages to gettext format, translate to Spanish, implement --language flag",
      "depends_on": [
        "phase-1-setup"
      ],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-3-1",
          "description": "Initialize gettext in CLI __main__.py and add --language flag",
          "service": "cli",
          "files_to_modify": [
            "cli/__main__.py"
          ],
          "files_to_create": [],
          "patterns_from": [
            "cli/__main__.py"
          ],
          "verification": {
            "type": "command",
            "command": "python -m cli --help | grep -q '\\-\\-language' && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Add argparse argument for --language, initialize gettext with selected language"
        },
        {
          "id": "subtask-3-2",
          "description": "Replace hardcoded strings in CLI help text and command builders with _() calls",
          "service": "cli",
          "files_to_modify": [
            "cli/__main__.py",
            "cli/commands/base.py",
            "cli/commands/api.py"
          ],
          "files_to_create": [],
          "patterns_from": [
            "cli/__main__.py"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review files - all user-facing strings should use _('string') format"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-3",
          "description": "Replace strings in config, wizard, and model commands with _() calls",
          "service": "cli",
          "files_to_modify": [
            "cli/commands/config.py",
            "cli/commands/wizard.py",
            "cli/commands/model.py",
            "cli/commands/models.py"
          ],
          "files_to_create": [],
          "patterns_from": [
            "cli/commands/base.py"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review files - all user-facing strings should use _('string') format"
          },
          "status": "pending"
        },
        {
          "id": "subtask-3-4",
          "description": "Extract translatable strings from CLI code to messages.pot file",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [
            "cli/messages.pot"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "pybabel extract -F cli/babel.cfg -o cli/messages.pot cli/ && test -f cli/messages.pot && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Run from project root: pybabel extract -F cli/babel.cfg -o cli/messages.pot cli/"
        },
        {
          "id": "subtask-3-5",
          "description": "Initialize English and Spanish locales from messages.pot",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [
            "cli/translations/en/LC_MESSAGES/messages.po",
            "cli/translations/es/LC_MESSAGES/messages.po"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "pybabel init -i cli/messages.pot -d cli/translations -l en && pybabel init -i cli/messages.pot -d cli/translations -l es && test -f cli/translations/es/LC_MESSAGES/messages.po && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Run from project root for both en and es locales"
        },
        {
          "id": "subtask-3-6",
          "description": "Translate all CLI strings to Spanish in messages.po file",
          "service": "cli",
          "files_to_modify": [
            "cli/translations/es/LC_MESSAGES/messages.po"
          ],
          "files_to_create": [],
          "patterns_from": [
            "cli/translations/en/LC_MESSAGES/messages.po"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review cli/translations/es/LC_MESSAGES/messages.po - all msgstr fields should have Spanish translations"
          },
          "status": "pending",
          "notes": "Edit .po file, fill in msgstr values with Spanish translations for each msgid"
        },
        {
          "id": "subtask-3-7",
          "description": "Compile .po files to .mo binary format (REQUIRED for gettext)",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [
            "cli/translations/en/LC_MESSAGES/messages.mo",
            "cli/translations/es/LC_MESSAGES/messages.mo"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "pybabel compile -d cli/translations && test -f cli/translations/es/LC_MESSAGES/messages.mo && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "CRITICAL: Must compile before testing CLI - gettext requires .mo files"
        },
        {
          "id": "subtask-3-8",
          "description": "Test CLI with --language flag in both English and Spanish",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "python -m cli --language es --help | grep -q 'Configuraci\u00f3n' && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Verify Spanish help text appears when --language es flag is used"
        }
      ]
    },
    {
      "id": "phase-4-templates-i18n",
      "name": "Backend Templates i18n",
      "type": "implementation",
      "description": "Enable Jinja2 i18n extension for email and task templates, share CLI translation files",
      "depends_on": [
        "phase-3-cli-i18n"
      ],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-4-1",
          "description": "Wrap translatable strings in finetune_task.yaml.j2 with Jinja2 trans tags",
          "service": "backend",
          "files_to_modify": [
            "src/templates/finetune_task.yaml.j2"
          ],
          "files_to_create": [],
          "patterns_from": [
            "src/templates/finetune_task.yaml.j2"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review template file - user-facing messages should use {% trans %}...{% endtrans %} or {{ _('') }}"
          },
          "status": "pending",
          "notes": "Only translate user-facing messages, keep technical output in English"
        },
        {
          "id": "subtask-4-2",
          "description": "Wrap translatable strings in marketing_doc.html template",
          "service": "backend",
          "files_to_modify": [
            "src/templates/marketing_doc.html"
          ],
          "files_to_create": [],
          "patterns_from": [
            "src/templates/finetune_task.yaml.j2"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review template file - UI strings use Jinja2 translation syntax"
          },
          "status": "pending"
        },
        {
          "id": "subtask-4-3",
          "description": "Update Babel config to extract strings from Jinja2 templates",
          "service": "backend",
          "files_to_modify": [
            "cli/babel.cfg"
          ],
          "files_to_create": [],
          "patterns_from": [
            "cli/babel.cfg"
          ],
          "verification": {
            "type": "command",
            "command": "grep -q 'jinja2:.*templates' cli/babel.cfg && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Add jinja2 extraction rule for src/templates/**/*.html and **/*.j2 files"
        },
        {
          "id": "subtask-4-4",
          "description": "Re-extract and update translations to include template strings",
          "service": "backend",
          "files_to_modify": [
            "cli/messages.pot",
            "cli/translations/en/LC_MESSAGES/messages.po",
            "cli/translations/es/LC_MESSAGES/messages.po"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "pybabel extract -F cli/babel.cfg -o cli/messages.pot . && pybabel update -i cli/messages.pot -d cli/translations && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Extract from root to include src/templates/, update existing .po files"
        },
        {
          "id": "subtask-4-5",
          "description": "Translate new template strings in Spanish .po file and recompile",
          "service": "backend",
          "files_to_modify": [
            "cli/translations/es/LC_MESSAGES/messages.po"
          ],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "pybabel compile -d cli/translations && test -f cli/translations/es/LC_MESSAGES/messages.mo && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending",
          "notes": "Edit .po file to add Spanish translations for new template strings, then compile"
        },
        {
          "id": "subtask-4-6",
          "description": "Find template rendering code and enable Jinja2 i18n extension",
          "service": "backend",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "manual",
            "instructions": "Search for Jinja2 Environment initialization, add env.add_extension('jinja2.ext.i18n') and env.install_gettext_translations()"
          },
          "status": "pending",
          "notes": "Need to locate where templates are rendered (likely in a service or API handler)"
        }
      ]
    },
    {
      "id": "phase-5-docs-translation",
      "name": "Documentation Translation",
      "type": "implementation",
      "description": "Create Spanish versions of all documentation files",
      "depends_on": [
        "phase-1-setup"
      ],
      "parallel_safe": true,
      "subtasks": [
        {
          "id": "subtask-5-1",
          "description": "Create Spanish documentation directory structure",
          "service": "root",
          "files_to_modify": [],
          "files_to_create": [
            "docs/es/.gitkeep"
          ],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "test -d docs/es && echo 'OK'",
            "expected": "OK"
          },
          "status": "pending"
        },
        {
          "id": "subtask-5-2",
          "description": "Translate core documentation files to Spanish",
          "service": "root",
          "files_to_modify": [],
          "files_to_create": [
            "docs/es/README.md"
          ],
          "patterns_from": [
            "docs/*.md"
          ],
          "verification": {
            "type": "manual",
            "instructions": "Review docs/es/ directory - Spanish versions of main documentation files exist"
          },
          "status": "pending",
          "notes": "Copy docs/*.md to docs/es/ and translate content to Spanish. Start with most important user-facing docs."
        }
      ]
    },
    {
      "id": "phase-6-integration",
      "name": "Integration & Testing",
      "type": "integration",
      "description": "End-to-end verification of language switching across web, CLI, and templates",
      "depends_on": [
        "phase-2-web-i18n",
        "phase-3-cli-i18n",
        "phase-4-templates-i18n",
        "phase-5-docs-translation"
      ],
      "parallel_safe": false,
      "subtasks": [
        {
          "id": "subtask-6-1",
          "description": "Create E2E test for web language switching",
          "service": "tests",
          "files_to_modify": [],
          "files_to_create": [
            "tests/e2e/test-i18n-language-switching.spec.js"
          ],
          "patterns_from": [
            "tests/*.spec.js"
          ],
          "verification": {
            "type": "command",
            "command": "cd tests && npx playwright test test-i18n-language-switching.spec.js",
            "expected": "Test passes"
          },
          "status": "pending",
          "notes": "Test: open dashboard, verify English, change to Spanish in settings, verify Spanish UI, refresh page, verify persistence"
        },
        {
          "id": "subtask-6-2",
          "description": "Verify no missing translation keys in web console",
          "service": "web",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "browser",
            "url": "http://localhost:8000",
            "checks": [
              "Open browser console, switch to Spanish, navigate all pages, check for i18n warnings"
            ]
          },
          "status": "pending",
          "notes": "Manual verification: browse entire UI in Spanish mode, check console for missing key warnings"
        },
        {
          "id": "subtask-6-3",
          "description": "Verify CLI Spanish output completeness",
          "service": "cli",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "python -m cli --language es config show && python -m cli --language es instances list && echo 'OK'",
            "expected": "Spanish output for all commands"
          },
          "status": "pending",
          "notes": "Test multiple CLI commands with --language es flag, verify Spanish output"
        },
        {
          "id": "subtask-6-4",
          "description": "Update existing tests to ensure they pass with i18n changes",
          "service": "tests",
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "command",
            "command": "cd tests && npx playwright test",
            "expected": "All existing tests pass"
          },
          "status": "pending",
          "notes": "Run full test suite to ensure i18n changes don't break existing functionality"
        },
        {
          "id": "subtask-6-5",
          "description": "Final integration verification - all components in Spanish",
          "all_services": true,
          "files_to_modify": [],
          "files_to_create": [],
          "patterns_from": [],
          "verification": {
            "type": "e2e",
            "steps": [
              "Set UI to Spanish via language selector",
              "Verify all dashboard pages display in Spanish",
              "Run CLI with --language es flag, verify Spanish output",
              "Check docs/es/ directory contains Spanish documentation",
              "Verify localStorage persists language preference"
            ]
          },
          "status": "pending",
          "notes": "Comprehensive manual verification across all services"
        }
      ]
    }
  ],
  "summary": {
    "total_phases": 6,
    "total_subtasks": 35,
    "services_involved": [
      "web",
      "cli",
      "backend",
      "tests",
      "root"
    ],
    "parallelism": {
      "max_parallel_phases": 3,
      "parallel_groups": [
        {
          "phases": [
            "phase-2-web-i18n",
            "phase-3-cli-i18n",
            "phase-5-docs-translation"
          ],
          "reason": "All three depend only on phase-1-setup, work on different file sets, can run in parallel"
        },
        {
          "phases": [
            "phase-3-cli-i18n",
            "phase-4-templates-i18n"
          ],
          "reason": "Templates depend on CLI translations, but can overlap during CLI implementation"
        }
      ],
      "recommended_workers": 3,
      "speedup_estimate": "2x faster than sequential (phases 2, 3, 5 can run in parallel)"
    },
    "startup_command": "source auto-claude/.venv/bin/activate && python auto-claude/run.py --spec 015 --parallel 3"
  },
  "verification_strategy": {
    "risk_level": "high",
    "skip_validation": false,
    "test_creation_phase": "post_implementation",
    "test_types_required": [
      "unit",
      "integration",
      "e2e"
    ],
    "security_scanning_required": false,
    "staging_deployment_required": false,
    "acceptance_criteria": [
      "All React components use t() function instead of hardcoded strings",
      "Language selector exists in Settings page with English and Espa\u00f1ol options",
      "Web app switches languages without page reload and persists preference",
      "CLI accepts --language flag and displays Spanish help text",
      "All translation files created (en/es for React and CLI)",
      "Spanish translations complete with no missing keys",
      "Documentation translated to Spanish in docs/es/",
      "No console errors related to missing translation keys",
      "Existing tests still pass",
      "E2E tests verify language switching works"
    ],
    "verification_steps": [
      {
        "name": "Web Unit Tests",
        "command": "cd web && npm test",
        "expected_outcome": "All tests pass",
        "type": "test",
        "required": false,
        "blocking": false
      },
      {
        "name": "CLI Unit Tests",
        "command": "cd cli && pytest tests/",
        "expected_outcome": "All tests pass",
        "type": "test",
        "required": false,
        "blocking": false
      },
      {
        "name": "E2E Tests",
        "command": "cd tests && npx playwright test",
        "expected_outcome": "All E2E tests pass including i18n test",
        "type": "test",
        "required": true,
        "blocking": true
      },
      {
        "name": "Browser Verification",
        "command": "manual",
        "expected_outcome": "UI fully functional in both English and Spanish",
        "type": "manual",
        "required": true,
        "blocking": true
      }
    ],
    "reasoning": "High risk due to cross-cutting UI/UX changes affecting all user-facing text. Requires comprehensive E2E testing to verify language switching works correctly across web, CLI, and documentation. No security scanning needed as this is a UI/content change, not infrastructure."
  },
  "qa_acceptance": {
    "unit_tests": {
      "required": false,
      "commands": [
        "cd web && npm test",
        "cd cli && pytest tests/"
      ],
      "minimum_coverage": null
    },
    "integration_tests": {
      "required": true,
      "commands": [
        "cd tests && npx playwright test"
      ],
      "services_to_test": [
        "web",
        "cli"
      ]
    },
    "e2e_tests": {
      "required": true,
      "commands": [
        "cd tests && npx playwright test test-i18n-language-switching.spec.js"
      ],
      "flows": [
        "language-switching",
        "preference-persistence"
      ]
    },
    "browser_verification": {
      "required": true,
      "pages": [
        {
          "url": "http://localhost:8000/",
          "checks": [
            "Dashboard in Spanish",
            "No console errors"
          ]
        },
        {
          "url": "http://localhost:8000/settings",
          "checks": [
            "Language selector visible",
            "Can switch to Espa\u00f1ol"
          ]
        },
        {
          "url": "http://localhost:8000/machines",
          "checks": [
            "All labels in Spanish",
            "EmptyState translated"
          ]
        },
        {
          "url": "http://localhost:8000/serverless",
          "checks": [
            "Page content in Spanish"
          ]
        }
      ]
    },
    "cli_verification": {
      "required": true,
      "commands": [
        "python -m cli --help",
        "python -m cli --language es --help",
        "python -m cli --language es config show",
        "LANGUAGE=es python -m cli instances list"
      ],
      "expected": "Spanish output for all commands with --language es or LANGUAGE=es env var"
    },
    "translation_completeness": {
      "required": true,
      "checks": [
        "web/public/locales/en/translation.json and es/translation.json have matching keys",
        "cli/translations/es/LC_MESSAGES/messages.mo file exists (compiled)",
        "docs/es/ directory contains Spanish documentation",
        "No missing translation warnings in browser console"
      ]
    }
  },
  "qa_signoff": null,
  "last_updated": "2025-12-31T21:47:29.085806+00:00"
}